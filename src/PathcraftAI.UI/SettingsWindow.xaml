<Window x:Class="PathcraftAI.UI.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings" Height="600" Width="500"
        WindowStartupLocation="CenterOwner"
        Background="#1e1e2e"
        ResizeMode="NoResize">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Text="Settings"
                   FontSize="24" FontWeight="Bold"
                   Foreground="#cdd6f4" Margin="0,0,0,20"/>

        <!-- Settings Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>

                <!-- API Keys Section -->
                <Border Background="#262638" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="API Keys" FontSize="16" FontWeight="SemiBold"
                                   Foreground="#89b4fa" Margin="0,0,0,12"/>

                        <!-- Claude API Key -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Claude API Key" FontSize="12"
                                       Foreground="#bac2de" Margin="0,0,0,4"/>
                            <TextBox x:Name="ClaudeApiKeyBox"
                                     Background="#313244" Foreground="#cdd6f4"
                                     BorderBrush="#45475a" BorderThickness="1"
                                     Padding="8,6" FontSize="12"/>
                        </StackPanel>

                        <!-- GPT API Key -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="OpenAI (GPT) API Key" FontSize="12"
                                       Foreground="#bac2de" Margin="0,0,0,4"/>
                            <TextBox x:Name="GptApiKeyBox"
                                     Background="#313244" Foreground="#cdd6f4"
                                     BorderBrush="#45475a" BorderThickness="1"
                                     Padding="8,6" FontSize="12"/>
                        </StackPanel>

                        <!-- Gemini API Key -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Google Gemini API Key" FontSize="12"
                                       Foreground="#bac2de" Margin="0,0,0,4"/>
                            <TextBox x:Name="GeminiApiKeyBox"
                                     Background="#313244" Foreground="#cdd6f4"
                                     BorderBrush="#45475a" BorderThickness="1"
                                     Padding="8,6" FontSize="12"/>
                        </StackPanel>

                        <!-- YouTube API Key -->
                        <StackPanel>
                            <TextBlock Text="YouTube Data API Key" FontSize="12"
                                       Foreground="#bac2de" Margin="0,0,0,4"/>
                            <TextBox x:Name="YouTubeApiKeyBox"
                                     Background="#313244" Foreground="#cdd6f4"
                                     BorderBrush="#45475a" BorderThickness="1"
                                     Padding="8,6" FontSize="12"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Game Settings Section -->
                <Border Background="#262638" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="Game Settings" FontSize="16" FontWeight="SemiBold"
                                   Foreground="#a6e3a1" Margin="0,0,0,12"/>

                        <!-- League Selection -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Default League" FontSize="12"
                                       Foreground="#bac2de" Margin="0,0,0,4"/>
                            <ComboBox x:Name="LeagueComboBox"
                                      Background="#313244" Foreground="#cdd6f4"
                                      BorderBrush="#45475a" BorderThickness="1"
                                      Padding="8,6" FontSize="12">
                                <ComboBoxItem Content="Keepers" IsSelected="True"/>
                                <ComboBoxItem Content="Standard"/>
                                <ComboBoxItem Content="Hardcore Keepers"/>
                                <ComboBoxItem Content="Hardcore"/>
                            </ComboBox>
                        </StackPanel>

                        <!-- Default Budget -->
                        <StackPanel>
                            <TextBlock Text="Default Upgrade Budget (Chaos)" FontSize="12"
                                       Foreground="#bac2de" Margin="0,0,0,4"/>
                            <TextBox x:Name="BudgetBox" Text="100"
                                     Background="#313244" Foreground="#cdd6f4"
                                     BorderBrush="#45475a" BorderThickness="1"
                                     Padding="8,6" FontSize="12"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Python Settings Section -->
                <Border Background="#262638" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="Python Settings" FontSize="16" FontWeight="SemiBold"
                                   Foreground="#f9e2af" Margin="0,0,0,12"/>

                        <!-- Python Path -->
                        <StackPanel>
                            <TextBlock Text="Python Executable Path" FontSize="12"
                                       Foreground="#bac2de" Margin="0,0,0,4"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox x:Name="PythonPathBox" Grid.Column="0"
                                         Background="#313244" Foreground="#cdd6f4"
                                         BorderBrush="#45475a" BorderThickness="1"
                                         Padding="8,6" FontSize="12"
                                         Text=".venv\Scripts\python.exe"/>
                                <Button Grid.Column="1" Content="Browse"
                                        Padding="12,6" Margin="8,0,0,0"
                                        Background="#45475a" Foreground="#cdd6f4"
                                        BorderThickness="0" FontSize="12"
                                        Click="BrowsePython_Click"/>
                            </Grid>
                            <TextBlock Text="Leave default for project venv"
                                       FontSize="10" Foreground="#7f849c" Margin="0,4,0,0"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- UI Settings Section -->
                <Border Background="#262638" CornerRadius="8" Padding="16">
                    <StackPanel>
                        <TextBlock Text="UI Settings" FontSize="16" FontWeight="SemiBold"
                                   Foreground="#cba6f7" Margin="0,0,0,12"/>

                        <!-- AI Provider Default -->
                        <StackPanel>
                            <TextBlock Text="Default AI Provider" FontSize="12"
                                       Foreground="#bac2de" Margin="0,0,0,4"/>
                            <ComboBox x:Name="AiProviderComboBox"
                                      Background="#313244" Foreground="#cdd6f4"
                                      BorderBrush="#45475a" BorderThickness="1"
                                      Padding="8,6" FontSize="12">
                                <ComboBoxItem Content="Rule-Based (Free)" IsSelected="True"/>
                                <ComboBoxItem Content="Claude"/>
                                <ComboBoxItem Content="GPT-4o"/>
                                <ComboBoxItem Content="Gemini"/>
                            </ComboBox>
                        </StackPanel>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Cancel" Padding="20,8"
                    Background="#45475a" Foreground="#cdd6f4"
                    BorderThickness="0" FontSize="12"
                    Click="Cancel_Click" Margin="0,0,10,0"/>
            <Button Content="Save" Padding="20,8"
                    Background="#89b4fa" Foreground="#1e1e2e"
                    BorderThickness="0" FontSize="12" FontWeight="SemiBold"
                    Click="Save_Click"/>
        </StackPanel>
    </Grid>
</Window>
